import{c as te,m as oe,a as ae,b as ne,u as se}from"./ssrBoot.b02e0988.js";import{J as K,Q as B,y as r,r as A,aE as w,$ as R,au as U,f as le,D as ue,L as _,aY as ie,aZ as re,a0 as ce,aR as ve,a as de,h as j}from"./entry.638dfdac.js";const M=Symbol.for("vuetify:layout"),X=Symbol.for("vuetify:layout-item"),D=1e3,be=K({overlaps:{type:Array,default:()=>[]},fullHeight:Boolean},"layout"),he=K({name:{type:String},order:{type:[Number,String],default:0},absolute:Boolean},"layout-item");function ye(){const o=B(M);if(!o)throw new Error("[Vuetify] Could not find injected layout");return{getLayoutItem:o.getLayoutItem,mainRect:o.mainRect,mainStyles:o.mainStyles}}function Ie(o){const c=B(M);if(!c)throw new Error("[Vuetify] Could not find injected layout");const a=o.id??`layout-item-${ue()}`,v=U("useLayoutItem");_(X,{id:a});const n=A(!1);ie(()=>n.value=!0),re(()=>n.value=!1);const{layoutItemStyles:l,layoutItemScrimStyles:u}=c.register(v,{...o,active:r(()=>n.value?!1:o.active.value),id:a});return ce(()=>c.unregister(a)),{layoutItemStyles:l,layoutRect:c.layoutRect,layoutItemScrimStyles:u}}const fe=(o,c,a,v)=>{let n={top:0,left:0,right:0,bottom:0};const l=[{id:"",layer:{...n}}];for(const u of o){const m=c.get(u),g=a.get(u),z=v.get(u);if(!m||!g||!z)continue;const b={...n,[m.value]:parseInt(n[m.value],10)+(z.value?parseInt(g.value,10):0)};l.push({id:u,layer:b}),n=b}return l};function xe(o){const c=B(M,null),a=r(()=>c?c.rootZIndex.value-100:D),v=A([]),n=w(new Map),l=w(new Map),u=w(new Map),m=w(new Map),g=w(new Map),{resizeRef:z,contentRect:b}=te(),Y=r(()=>{const t=new Map,d=o.overlaps??[];for(const e of d.filter(i=>i.includes(":"))){const[i,s]=e.split(":");if(!v.value.includes(i)||!v.value.includes(s))continue;const f=n.get(i),p=n.get(s),S=l.get(i),L=l.get(s);!f||!p||!S||!L||(t.set(s,{position:f.value,amount:parseInt(S.value,10)}),t.set(i,{position:p.value,amount:-parseInt(L.value,10)}))}return t}),h=r(()=>{const t=[...new Set([...u.values()].map(e=>e.value))].sort((e,i)=>e-i),d=[];for(const e of t){const i=v.value.filter(s=>{var f;return((f=u.get(s))==null?void 0:f.value)===e});d.push(...i)}return fe(d,n,l,m)}),E=r(()=>!Array.from(g.values()).some(t=>t.value)),I=r(()=>h.value[h.value.length-1].layer),q=r(()=>({"--v-layout-left":R(I.value.left),"--v-layout-right":R(I.value.right),"--v-layout-top":R(I.value.top),"--v-layout-bottom":R(I.value.bottom),...E.value?void 0:{transition:"none"}})),x=r(()=>h.value.slice(1).map((t,d)=>{let{id:e}=t;const{layer:i}=h.value[d],s=l.get(e),f=n.get(e);return{id:e,...i,size:Number(s.value),position:f.value}})),T=t=>x.value.find(d=>d.id===t),V=U("createLayout"),k=A(!1);le(()=>{k.value=!0}),_(M,{register:(t,d)=>{let{id:e,order:i,position:s,layoutSize:f,elementSize:p,active:S,disableTransitions:L,absolute:Q}=d;u.set(e,i),n.set(e,s),l.set(e,f),m.set(e,S),L&&g.set(e,L);const H=ve(X,V==null?void 0:V.vnode).indexOf(t);H>-1?v.value.splice(H,0,e):v.value.push(e);const N=r(()=>x.value.findIndex($=>$.id===e)),C=r(()=>a.value+h.value.length*2-N.value*2),W=r(()=>{const $=s.value==="left"||s.value==="right",P=s.value==="right",ee=s.value==="bottom",Z={[s.value]:0,zIndex:C.value,transform:`translate${$?"X":"Y"}(${(S.value?0:-110)*(P||ee?-1:1)}%)`,position:Q.value||a.value!==D?"absolute":"fixed",...E.value?void 0:{transition:"none"}};if(!k.value)return Z;const y=x.value[N.value];if(!y)throw new Error(`[Vuetify] Could not find layout item "${e}"`);const O=Y.value.get(e);return O&&(y[O.position]+=O.amount),{...Z,height:$?`calc(100% - ${y.top}px - ${y.bottom}px)`:p.value?`${p.value}px`:void 0,left:P?void 0:`${y.left}px`,right:P?`${y.right}px`:void 0,top:s.value!=="bottom"?`${y.top}px`:void 0,bottom:s.value!=="top"?`${y.bottom}px`:void 0,width:$?p.value?`${p.value}px`:void 0:`calc(100% - ${y.left}px - ${y.right}px)`}}),G=r(()=>({zIndex:C.value-1}));return{layoutItemStyles:W,layoutItemScrimStyles:G,zIndex:C}},unregister:t=>{u.delete(t),n.delete(t),l.delete(t),m.delete(t),g.delete(t),v.value=v.value.filter(d=>d!==t)},mainRect:I,mainStyles:q,getLayoutItem:T,items:x,layoutRect:b,rootZIndex:a});const F=r(()=>["v-layout",{"v-layout--full-height":o.fullHeight}]),J=r(()=>({zIndex:a.value,position:c?"relative":void 0,overflow:c?"hidden":void 0}));return{layoutClasses:F,layoutStyles:J,getLayoutItem:T,items:x,layoutRect:b,layoutRef:z}}const Se=de()({name:"VMain",props:{scrollable:Boolean,...oe(),...ae({tag:"main"})},setup(o,c){let{slots:a}=c;const{mainStyles:v}=ye(),{ssrBootStyles:n}=ne();return se(()=>j(o.tag,{class:["v-main",{"v-main--scrollable":o.scrollable},o.class],style:[v.value,n.value,o.style]},{default:()=>{var l,u;return[o.scrollable?j("div",{class:"v-main__scroller"},[(l=a.default)==null?void 0:l.call(a)]):(u=a.default)==null?void 0:u.call(a)]}})),{}}});export{Se as V,he as a,xe as c,be as m,Ie as u};
