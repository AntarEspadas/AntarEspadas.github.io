import{a as H,N as ke,h as o,I as G,m as we,p as Se,y as b,O as je,P as Ge,e as Q,r as k,Y as Je,w as M,B as Ee,i as D,Z as Ke,$ as F,f as ee,a0 as _e,a1 as Qe,a2 as et,H as ce,a3 as tt,a4 as at,a5 as nt,F as xe,b as lt,D as ot,j as O,o as S,c as x,l as f,q as $,t as Ce,u as E,a6 as q,a7 as rt,E as it,k as Ie,a8 as ut,a9 as st,aa as ct,G as dt,W as vt,ab as j,ac as mt,ad as de,ae as ft,af as gt,ag as ve,ah as yt,ai as ht,aj as bt}from"./entry.638dfdac.js";import{n as me,g as pt,h as Vt}from"./index.858a4a56.js";import{p as te,q as fe,m as Te,r as kt,u as Ae,V as J,f as Re,a as wt,b as St,c as ge,d as ye,e as Pe,g as Et,y as _t,z as xt,A as Ct}from"./VSpacer.b3fd4ada.js";import{l as Be,V as K,R as It,y as Le,n as Tt,o as Me,I as At,m as Rt,a as Pt,b as $e,A as Bt,c as Lt,C as De,e as Mt,p as $t,q as Dt,r as Ne,i as Nt,u as Ot,d as Ut,f as Oe,F as Ht,J as Wt,L as Yt,g as zt,K as he,M as Ft,N as qt,h as U,O as Xt,v as be}from"./VLabel.1475aadc.js";import{m as X,u as W,a as Ue,b as Zt}from"./ssrBoot.b02e0988.js";import{m as jt,c as Gt,a as Jt,u as Kt,V as Qt}from"./VMain.34227f78.js";const ae=H()({name:"VCardActions",props:X(),setup(e,u){let{slots:a}=u;return ke({VBtn:{variant:"text"}}),W(()=>{var t;return o("div",{class:["v-card-actions",e.class],style:e.style},[(t=a.default)==null?void 0:t.call(a)])}),{}}}),ea=te("v-card-subtitle"),ne=te("v-card-title"),ta=H()({name:"VCardItem",props:{appendAvatar:String,appendIcon:G,prependAvatar:String,prependIcon:G,subtitle:String,title:String,...X(),...Be()},setup(e,u){let{slots:a}=u;return W(()=>{var s;const t=!!(e.prependAvatar||e.prependIcon),l=!!(t||a.prepend),n=!!(e.appendAvatar||e.appendIcon),i=!!(n||a.append),c=!!(e.title||a.title),d=!!(e.subtitle||a.subtitle);return o("div",{class:["v-card-item",e.class],style:e.style},[l&&o("div",{key:"prepend",class:"v-card-item__prepend"},[a.prepend?o(K,{key:"prepend-defaults",disabled:!t,defaults:{VAvatar:{density:e.density,icon:e.prependIcon,image:e.prependAvatar}}},a.prepend):t&&o(fe,{key:"prepend-avatar",density:e.density,icon:e.prependIcon,image:e.prependAvatar},null)]),o("div",{class:"v-card-item__content"},[c&&o(ne,{key:"title"},{default:()=>{var r;return[((r=a.title)==null?void 0:r.call(a))??e.title]}}),d&&o(ea,{key:"subtitle"},{default:()=>{var r;return[((r=a.subtitle)==null?void 0:r.call(a))??e.subtitle]}}),(s=a.default)==null?void 0:s.call(a)]),i&&o("div",{key:"append",class:"v-card-item__append"},[a.append?o(K,{key:"append-defaults",disabled:!n,defaults:{VAvatar:{density:e.density,icon:e.appendIcon,image:e.appendAvatar}}},a.append):n&&o(fe,{key:"append-avatar",density:e.density,icon:e.appendIcon,image:e.appendAvatar},null)])])}),{}}}),He=te("v-card-text"),le=H()({name:"VCard",directives:{Ripple:It},props:{appendAvatar:String,appendIcon:G,disabled:Boolean,flat:Boolean,hover:Boolean,image:String,link:{type:Boolean,default:void 0},prependAvatar:String,prependIcon:G,ripple:{type:Boolean,default:!0},subtitle:String,text:String,title:String,...Le(),...X(),...Be(),...Tt(),...Me(),...At(),...Rt(),...Pt(),...$e(),...Bt(),...Ue(),...we(),...Lt({variant:"elevated"})},setup(e,u){let{attrs:a,slots:t}=u;const{themeClasses:l}=Se(e),{borderClasses:n}=De(e),{colorClasses:i,colorStyles:c,variantClasses:d}=Mt(e),{densityClasses:s}=$t(e),{dimensionStyles:r}=Dt(e),{elevationClasses:v}=Ne(e),{loaderClasses:m}=Nt(e),{locationStyles:g}=Ot(e),{positionClasses:V}=Ut(e),{roundedClasses:_}=Oe(e),C=Ht(e,a),B=b(()=>e.link!==!1&&C.isLink.value),A=b(()=>!e.disabled&&e.link!==!1&&(e.link||C.isClickable.value));return W(()=>{const L=B.value?"a":e.tag,I=!!(t.title||e.title),y=!!(t.subtitle||e.subtitle),h=I||y,p=!!(t.append||e.appendAvatar||e.appendIcon),w=!!(t.prepend||e.prependAvatar||e.prependIcon),R=!!(t.image||e.image),P=h||w||p,N=!!(t.text||e.text);return je(o(L,{class:["v-card",{"v-card--disabled":e.disabled,"v-card--flat":e.flat,"v-card--hover":e.hover&&!(e.disabled||e.flat),"v-card--link":A.value},l.value,n.value,i.value,s.value,v.value,m.value,V.value,_.value,d.value,e.class],style:[c.value,r.value,g.value,e.style],href:C.href.value,onClick:A.value&&C.navigate,tabindex:e.disabled?-1:void 0},{default:()=>{var Z;return[R&&o("div",{key:"image",class:"v-card__image"},[t.image?o(K,{key:"image-defaults",disabled:!e.image,defaults:{VImg:{cover:!0,src:e.image}}},t.image):o(Wt,{key:"image-img",cover:!0,src:e.image},null)]),o(Yt,{name:"v-card",active:!!e.loading,color:typeof e.loading=="boolean"?void 0:e.loading},{default:t.loader}),P&&o(ta,{key:"item",prependAvatar:e.prependAvatar,prependIcon:e.prependIcon,title:e.title,subtitle:e.subtitle,appendAvatar:e.appendAvatar,appendIcon:e.appendIcon},{default:t.item,prepend:t.prepend,title:t.title,subtitle:t.subtitle,append:t.append}),N&&o(He,{key:"text"},{default:()=>{var z;return[((z=t.text)==null?void 0:z.call(t))??e.text]}}),(Z=t.default)==null?void 0:Z.call(t),t.actions&&o(ae,null,{default:t.actions}),zt(A.value,"v-card")]}}),[[Ge("ripple"),A.value&&e.ripple]])}),{}}});const We=H()({name:"VDialog",props:{fullscreen:Boolean,retainFocus:{type:Boolean,default:!0},scrollable:Boolean,...Te({origin:"center center",scrollStrategy:"block",transition:{component:kt},zIndex:2400})},emits:{"update:modelValue":e=>!0},setup(e,u){let{slots:a}=u;const t=Q(e,"modelValue"),{scopeId:l}=Ae(),n=k();function i(d){var v,m;const s=d.relatedTarget,r=d.target;if(s!==r&&((v=n.value)!=null&&v.contentEl)&&((m=n.value)!=null&&m.globalTop)&&![document,n.value.contentEl].includes(r)&&!n.value.contentEl.contains(r)){const g=Ke(n.value.contentEl);if(!g.length)return;const V=g[0],_=g[g.length-1];s===V?_.focus():V.focus()}}Je&&M(()=>t.value&&e.retainFocus,d=>{d?document.addEventListener("focusin",i):document.removeEventListener("focusin",i)},{immediate:!0}),M(t,async d=>{var s,r;await Ee(),d?(s=n.value.contentEl)==null||s.focus({preventScroll:!0}):(r=n.value.activatorEl)==null||r.focus({preventScroll:!0})});const c=b(()=>D({"aria-haspopup":"dialog","aria-expanded":String(t.value)},e.activatorProps));return W(()=>{const[d]=J.filterProps(e);return o(J,D({ref:n,class:["v-dialog",{"v-dialog--fullscreen":e.fullscreen,"v-dialog--scrollable":e.scrollable},e.class],style:e.style},d,{modelValue:t.value,"onUpdate:modelValue":s=>t.value=s,"aria-modal":"true",activatorProps:c.value,role:"dialog"},l),{activator:a.activator,default:function(){for(var s=arguments.length,r=new Array(s),v=0;v<s;v++)r[v]=arguments[v];return o(K,{root:!0},{default:()=>{var m;return[(m=a.default)==null?void 0:m.call(a,...r)]}})}})}),Re({},n)}});const aa=H()({name:"VLayout",props:{...X(),...jt()},setup(e,u){let{slots:a}=u;const{layoutClasses:t,layoutStyles:l,getLayoutItem:n,items:i,layoutRef:c}=Gt(e);return W(()=>{var d;return o("div",{ref:c,class:[t.value,e.class],style:[l.value,e.style]},[(d=a.default)==null?void 0:d.call(a)])}),{getLayoutItem:n,items:i}}});function na(e){let{rootEl:u,isSticky:a,layoutItemStyles:t}=e;const l=k(!1),n=k(0),i=b(()=>{const s=typeof l.value=="boolean"?"top":l.value;return[a.value?{top:"auto",bottom:"auto",height:void 0}:void 0,l.value?{[s]:F(n.value)}:{top:t.value.top}]});ee(()=>{M(a,s=>{s?window.addEventListener("scroll",d,{passive:!0}):window.removeEventListener("scroll",d)},{immediate:!0})}),_e(()=>{document.removeEventListener("scroll",d)});let c=0;function d(){const s=c>window.scrollY?"up":"down",r=u.value.getBoundingClientRect(),v=parseFloat(t.value.top??0),m=window.scrollY-Math.max(0,n.value-v),g=r.height+Math.max(n.value,v)-window.scrollY-window.innerHeight;r.height<window.innerHeight-v?(l.value="top",n.value=v):s==="up"&&l.value==="bottom"||s==="down"&&l.value==="top"?(n.value=window.scrollY+r.top,l.value=!0):s==="down"&&g<=0?(n.value=0,l.value="bottom"):s==="up"&&m<=0&&(n.value=r.top+m,l.value="top"),c=window.scrollY}return{isStuck:l,stickyStyles:i}}const la=100,oa=20;function pe(e){const u=1.41421356237;return(e<0?-1:1)*Math.sqrt(Math.abs(e))*u}function Ve(e){if(e.length<2)return 0;if(e.length===2)return e[1].t===e[0].t?0:(e[1].d-e[0].d)/(e[1].t-e[0].t);let u=0;for(let a=e.length-1;a>0;a--){if(e[a].t===e[a-1].t)continue;const t=pe(u),l=(e[a].d-e[a-1].d)/(e[a].t-e[a-1].t);u+=(l-t)*Math.abs(l),a===e.length-1&&(u*=.5)}return pe(u)*1e3}function ra(){const e={};function u(l){Array.from(l.changedTouches).forEach(n=>{(e[n.identifier]??(e[n.identifier]=new Qe(oa))).push([l.timeStamp,n])})}function a(l){Array.from(l.changedTouches).forEach(n=>{delete e[n.identifier]})}function t(l){var s;const n=(s=e[l])==null?void 0:s.values().reverse();if(!n)throw new Error(`No samples for touch id ${l}`);const i=n[0],c=[],d=[];for(const r of n){if(i[0]-r[0]>la)break;c.push({t:r[0],d:r[1].clientX}),d.push({t:r[0],d:r[1].clientY})}return{x:Ve(c),y:Ve(d),get direction(){const{x:r,y:v}=this,[m,g]=[Math.abs(r),Math.abs(v)];return m>g&&r>=0?"right":m>g&&r<=0?"left":g>m&&v>=0?"down":g>m&&v<=0?"up":ia()}}}return{addMovement:u,endTouch:a,getVelocity:t}}function ia(){throw new Error}function ua(e){let{isActive:u,isTemporary:a,width:t,touchless:l,position:n}=e;ee(()=>{window.addEventListener("touchstart",B,{passive:!0}),window.addEventListener("touchmove",A,{passive:!1}),window.addEventListener("touchend",L,{passive:!0})}),_e(()=>{window.removeEventListener("touchstart",B),window.removeEventListener("touchmove",A),window.removeEventListener("touchend",L)});const i=b(()=>["left","right"].includes(n.value)),{addMovement:c,endTouch:d,getVelocity:s}=ra();let r=!1;const v=k(!1),m=k(0),g=k(0);let V;function _(y,h){return(n.value==="left"?y:n.value==="right"?document.documentElement.clientWidth-y:n.value==="top"?y:n.value==="bottom"?document.documentElement.clientHeight-y:Y())-(h?t.value:0)}function C(y){let h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const p=n.value==="left"?(y-g.value)/t.value:n.value==="right"?(document.documentElement.clientWidth-y-g.value)/t.value:n.value==="top"?(y-g.value)/t.value:n.value==="bottom"?(document.documentElement.clientHeight-y-g.value)/t.value:Y();return h?Math.max(0,Math.min(1,p)):p}function B(y){if(l.value)return;const h=y.changedTouches[0].clientX,p=y.changedTouches[0].clientY,w=25,R=n.value==="left"?h<w:n.value==="right"?h>document.documentElement.clientWidth-w:n.value==="top"?p<w:n.value==="bottom"?p>document.documentElement.clientHeight-w:Y(),P=u.value&&(n.value==="left"?h<t.value:n.value==="right"?h>document.documentElement.clientWidth-t.value:n.value==="top"?p<t.value:n.value==="bottom"?p>document.documentElement.clientHeight-t.value:Y());(R||P||u.value&&a.value)&&(r=!0,V=[h,p],g.value=_(i.value?h:p,u.value),m.value=C(i.value?h:p),d(y),c(y))}function A(y){const h=y.changedTouches[0].clientX,p=y.changedTouches[0].clientY;if(r){if(!y.cancelable){r=!1;return}const R=Math.abs(h-V[0]),P=Math.abs(p-V[1]);(i.value?R>P&&R>3:P>R&&P>3)?(v.value=!0,r=!1):(i.value?P:R)>3&&(r=!1)}if(!v.value)return;y.preventDefault(),c(y);const w=C(i.value?h:p,!1);m.value=Math.max(0,Math.min(1,w)),w>1?g.value=_(i.value?h:p,!0):w<0&&(g.value=_(i.value?h:p,!1))}function L(y){if(r=!1,!v.value)return;c(y),v.value=!1;const h=s(y.changedTouches[0].identifier),p=Math.abs(h.x),w=Math.abs(h.y);(i.value?p>w&&p>400:w>p&&w>3)?u.value=h.direction===({left:"right",right:"left",top:"down",bottom:"up"}[n.value]||Y()):u.value=m.value>.5}const I=b(()=>v.value?{transform:n.value==="left"?`translateX(calc(-100% + ${m.value*t.value}px))`:n.value==="right"?`translateX(calc(100% - ${m.value*t.value}px))`:n.value==="top"?`translateY(calc(-100% + ${m.value*t.value}px))`:n.value==="bottom"?`translateY(calc(100% - ${m.value*t.value}px))`:Y(),transition:"none"}:void 0);return{isDragging:v,dragProgress:m,dragStyles:I}}function Y(){throw new Error}const sa=["start","end","left","right","top","bottom"],ca=H()({name:"VNavigationDrawer",props:{color:String,disableResizeWatcher:Boolean,disableRouteWatcher:Boolean,expandOnHover:Boolean,floating:Boolean,modelValue:{type:Boolean,default:null},permanent:Boolean,rail:{type:Boolean,default:null},railWidth:{type:[Number,String],default:56},scrim:{type:[String,Boolean],default:!0},image:String,temporary:Boolean,touchless:Boolean,width:{type:[Number,String],default:256},location:{type:String,default:"start",validator:e=>sa.includes(e)},sticky:Boolean,...Le(),...X(),...Me(),...Jt(),...$e(),...Ue({tag:"nav"}),...we()},emits:{"update:modelValue":e=>!0,"update:rail":e=>!0},setup(e,u){let{attrs:a,emit:t,slots:l}=u;const{isRtl:n}=et(),{themeClasses:i}=Se(e),{borderClasses:c}=De(e),{backgroundColorClasses:d,backgroundColorStyles:s}=he(ce(e,"color")),{elevationClasses:r}=Ne(e),{mobile:v}=tt(),{roundedClasses:m}=Oe(e),g=Ft(),V=Q(e,"modelValue",null,T=>!!T),{ssrBootStyles:_}=Zt(),C=k(),B=k(!1),A=b(()=>e.rail&&e.expandOnHover&&B.value?Number(e.width):Number(e.rail?e.railWidth:e.width)),L=b(()=>qt(e.location,n.value)),I=b(()=>!e.permanent&&(v.value||e.temporary)),y=b(()=>e.sticky&&!I.value&&L.value!=="bottom");e.expandOnHover&&e.rail!=null&&M(B,T=>t("update:rail",!T)),e.disableResizeWatcher||M(I,T=>!e.permanent&&Ee(()=>V.value=!T)),!e.disableRouteWatcher&&g&&M(g.currentRoute,()=>I.value&&(V.value=!1)),M(()=>e.permanent,T=>{T&&(V.value=!0)}),at(()=>{e.modelValue!=null||I.value||(V.value=e.permanent||!v.value)});const{isDragging:h,dragProgress:p,dragStyles:w}=ua({isActive:V,isTemporary:I,width:A,touchless:ce(e,"touchless"),position:L}),R=b(()=>{const T=I.value?0:e.rail&&e.expandOnHover?Number(e.railWidth):A.value;return h.value?T*p.value:T}),{layoutItemStyles:P,layoutRect:N,layoutItemScrimStyles:Z}=Kt({id:e.name,order:b(()=>parseInt(e.order,10)),position:L,layoutSize:R,elementSize:A,active:b(()=>V.value||h.value),disableTransitions:b(()=>h.value),absolute:b(()=>e.absolute||y.value&&typeof z.value!="string")}),{isStuck:z,stickyStyles:Fe}=na({rootEl:C,isSticky:y,layoutItemStyles:P}),oe=he(b(()=>typeof e.scrim=="string"?e.scrim:null)),qe=b(()=>({...h.value?{opacity:p.value*.2,transition:"none"}:void 0,...N.value?{left:F(N.value.left),right:F(N.value.right),top:F(N.value.top),bottom:F(N.value.bottom)}:void 0,...Z.value}));ke({VList:{bgColor:"transparent"}});function Xe(){B.value=!0}function Ze(){B.value=!1}return W(()=>{const T=l.image||e.image;return o(xe,null,[o(e.tag,D({ref:C,onMouseenter:Xe,onMouseleave:Ze,class:["v-navigation-drawer",`v-navigation-drawer--${L.value}`,{"v-navigation-drawer--expand-on-hover":e.expandOnHover,"v-navigation-drawer--floating":e.floating,"v-navigation-drawer--is-hovering":B.value,"v-navigation-drawer--rail":e.rail,"v-navigation-drawer--temporary":I.value,"v-navigation-drawer--active":V.value,"v-navigation-drawer--sticky":y.value},i.value,d.value,c.value,r.value,m.value,e.class],style:[s.value,P.value,w.value,_.value,Fe.value,e.style]},a),{default:()=>{var re,ie,ue,se;return[T&&o("div",{key:"image",class:"v-navigation-drawer__img"},[l.image?(re=l.image)==null?void 0:re.call(l,{image:e.image}):o("img",{src:e.image,alt:""},null)]),l.prepend&&o("div",{class:"v-navigation-drawer__prepend"},[(ie=l.prepend)==null?void 0:ie.call(l)]),o("div",{class:"v-navigation-drawer__content"},[(ue=l.default)==null?void 0:ue.call(l)]),l.append&&o("div",{class:"v-navigation-drawer__append"},[(se=l.append)==null?void 0:se.call(l)])]}}),o(nt,{name:"fade-transition"},{default:()=>[I.value&&(h.value||V.value)&&!!e.scrim&&o("div",{class:["v-navigation-drawer__scrim",oe.backgroundColorClasses.value],style:[qe.value,oe.backgroundColorStyles.value],onClick:()=>V.value=!1},null)]})])}),{isStuck:z}}});const da=H()({name:"VTooltip",props:{id:String,text:String,...lt(Te({closeOnBack:!1,location:"end",locationStrategy:"connected",eager:!0,minWidth:0,offset:10,openOnClick:!1,openOnHover:!0,origin:"auto",scrim:!1,scrollStrategy:"reposition",transition:!1}),["absolute","persistent"])},emits:{"update:modelValue":e=>!0},setup(e,u){let{slots:a}=u;const t=Q(e,"modelValue"),{scopeId:l}=Ae(),n=ot(),i=b(()=>e.id||`v-tooltip-${n}`),c=k(),d=b(()=>e.location.split(" ").length>1?e.location:e.location+" center"),s=b(()=>e.origin==="auto"||e.origin==="overlap"||e.origin.split(" ").length>1||e.location.split(" ").length>1?e.origin:e.origin+" center"),r=b(()=>e.transition?e.transition:t.value?"scale-transition":"fade-transition"),v=b(()=>D({"aria-describedby":i.value},e.activatorProps));return W(()=>{const[m]=J.filterProps(e);return o(J,D({ref:c,class:["v-tooltip",e.class],style:e.style,id:i.value},m,{modelValue:t.value,"onUpdate:modelValue":g=>t.value=g,transition:r.value,absolute:!0,location:d.value,origin:s.value,persistent:!0,role:"tooltip",activatorProps:v.value,_disableGlobalStack:!0},l),{activator:a.activator,default:function(){var C;for(var g=arguments.length,V=new Array(g),_=0;_<g;_++)V[_]=arguments[_];return((C=a.default)==null?void 0:C.call(a,...V))??e.text}})}),Re({},c)}}),va=O({__name:"FormEditarReporte",props:{modo:null,nombre:null,url:null},emits:["aceptar","cancelar"],setup(e,{emit:u}){const a=e,t=k(),l=k(""),n=k(""),i=b(()=>a.modo==="añadir"?"Añadir reporte":"Editar reporte");M(()=>[a.nombre,a.url],([r,v])=>{l.value=r??"",n.value=v??""},{immediate:!0});async function c(){if(t.value===void 0)return;const{valid:r}=await t.value.validate();r&&u("aceptar",l.value,n.value)}const d=[me],s=[me,pt,Vt];return(r,v)=>(S(),x(le,null,{default:f(()=>[o(ne,null,{default:f(()=>[$(Ce(E(i)),1)]),_:1}),o(He,{style:{padding:"0"}},{default:f(()=>[o(E(Et),{ref_key:"form",ref:t,"validate-on":"blur"},{default:f(()=>[o(wt,null,{default:f(()=>[o(St,null,{default:f(()=>[o(ge,{cols:"12",sm:"6"},{default:f(()=>[o(ye,{modelValue:E(l),"onUpdate:modelValue":v[0]||(v[0]=m=>q(l)?l.value=m:null),label:"Nombre",rules:d,"data-testid":"nombre"},null,8,["modelValue"])]),_:1}),o(ge,{cols:"12",sm:"6"},{default:f(()=>[o(ye,{modelValue:E(n),"onUpdate:modelValue":v[1]||(v[1]=m=>q(n)?n.value=m:null),label:"Url",rules:s,hint:"En Looker Studio, seleccione 'Compartir' > 'Insertar informe' > 'Insertar URL'","data-testid":"url"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1},512)]),_:1}),o(ae,null,{default:f(()=>[o(Pe),o(U,{color:"blue-darken-1",variant:"tonal",onClick:c},{default:f(()=>[$(" Aceptar ")]),_:1}),o(U,{color:"blue-darken-1",variant:"text",onClick:v[2]||(v[2]=m=>u("cancelar"))},{default:f(()=>[$(" Cancelar ")]),_:1})]),_:1})]),_:1}))}}),Ye=O({__name:"BtnEditarReporte",props:{modo:null,nombre:null,url:null},emits:["aceptar"],setup(e,{emit:u}){const a=e,t=k(!1),l=b(()=>a.modo==="añadir"?"mdi-plus":"mdi-pencil");function n(i,c){u("aceptar",i,c),t.value=!1}return(i,c)=>(S(),x(We,{modelValue:E(t),"onUpdate:modelValue":c[1]||(c[1]=d=>q(t)?t.value=d:null),width:"1000px","max-width":"95%"},{activator:f(({props:d})=>[e.modo=="añadir"?(S(),x(U,D({key:0},d,{"prepend-icon":E(l)}),{default:f(()=>[$("Añadir reporte")]),_:2},1040,["prepend-icon"])):(S(),x(U,D({key:1},d,{icon:E(l),variant:"text",density:"compact","aria-label":"editar"}),null,16,["icon"]))]),default:f(()=>[o(va,{nombre:e.nombre,url:e.url,modo:e.modo,"data-testid":"editar",onCancelar:c[0]||(c[0]=d=>t.value=!1),onAceptar:n},null,8,["nombre","url","modo"])]),_:1},8,["modelValue"]))}}),ze=O({__name:"Autorizar",props:{roles:null,usuario:null},setup(e){const u=e,a=k(!1),t=b(()=>new Set(u.roles));return M(()=>u.usuario,async l=>{if(l==null){a.value=!1;return}const i=(await l.getIdTokenResult()).claims.roles;if(i===void 0){a.value=!1;return}i.filter(d=>t.value.has(d)).length>0&&(a.value=!0)},{immediate:!0}),(l,n)=>a.value?rt(l.$slots,"default",{key:0}):it("",!0)}}),ma=O({__name:"DialogEliminar",emits:["eliminar","cancelar"],setup(e,{emit:u}){return(a,t)=>(S(),x(le,null,{default:f(()=>[o(ne,null,{default:f(()=>[$("¿Está seguro?")]),_:1}),o(ae,null,{default:f(()=>[o(Pe),o(U,{color:"red",variant:"text","prepend-icon":"mdi-delete",onClick:t[0]||(t[0]=l=>u("eliminar"))},{default:f(()=>[$(" Eliminar ")]),_:1}),o(U,{color:"blue-darken-1",variant:"plain",onClick:t[1]||(t[1]=l=>u("cancelar"))},{default:f(()=>[$(" Cancelar ")]),_:1})]),_:1})]),_:1}))}}),fa=O({__name:"BtnEliminar",emits:["eliminar"],setup(e,{emit:u}){const a=k(!1);function t(){a.value=!1,u("eliminar")}return(l,n)=>(S(),x(We,{modelValue:E(a),"onUpdate:modelValue":n[1]||(n[1]=i=>q(a)?a.value=i:null),width:"90%","max-width":"400px"},{activator:f(({props:i})=>[o(U,D(i,{icon:"mdi-delete",density:"compact",variant:"text","aria-label":"eliminar"}),null,16)]),default:f(()=>[o(ma,{"data-testid":"eliminar",onEliminar:t,onCancelar:n[0]||(n[0]=i=>a.value=!1)})]),_:1},8,["modelValue"]))}}),ga=O({__name:"ListaReportes",props:{reportes:null,seleccionado:null,usuario:null},emits:["update:seleccionado","editar","eliminar"],setup(e,{emit:u}){const a=e;function t(l){u("update:seleccionado",l[0])}return(l,n)=>(S(),x(_t,{selected:[e.seleccionado],variant:"tonal",color:"primary",style:{"overflow-y":"auto"},role:"list","onUpdate:selected":t},{default:f(()=>[(S(!0),Ie(xe,null,ut(a.reportes,i=>(S(),x(xt,{key:i.id,value:i.url,variant:"text",role:"listitem"},{append:f(()=>[o(ze,{roles:["REPORTES_WRITE"],usuario:e.usuario},{default:f(()=>[o(Ye,{nombre:i.nombre,url:i.url,modo:"editar",onAceptar:(c,d)=>u("editar",c,d,i.id)},null,8,["nombre","url","onAceptar"]),o(fa,{onEliminar:()=>u("eliminar",i.id)},null,8,["onEliminar"])]),_:2},1032,["usuario"])]),default:f(()=>[o(da,{text:i.nombre,location:"top center","open-delay":"500"},{activator:f(({props:c})=>[o(Ct,D(c,{textContent:Ce(i.nombre)}),null,16,["textContent"])]),_:2},1032,["text"])]),_:2},1032,["value"]))),128))]),_:1},8,["selected"]))}}),ya=["src"],ha=O({__name:"Reportes",props:{reportes:null,usuario:null,cargando:{type:Boolean}},emits:["agregar","editar","eliminar"],setup(e,{emit:u}){const a=e,t=k(),l=k(!1);return setTimeout(()=>{l.value=a.cargando},250),(n,i)=>(S(),x(le,{class:"card"},{default:f(()=>[o(aa,{class:"layout"},{default:f(()=>[o(ca,{permanent:""},{default:f(()=>[st("div",{class:"container",style:ct(`align-items: ${e.reportes.length?"unset":"center"}`)},[e.cargando&&E(l)?(S(),x(Xt,{key:0,indeterminate:"",color:"primary"})):!e.cargando&&e.reportes.length===0?(S(),x(be,{key:1},{default:f(()=>[$("No hay reportes que mostrar")]),_:1})):(S(),x(ga,{key:2,seleccionado:E(t),"onUpdate:seleccionado":i[0]||(i[0]=c=>q(t)?t.value=c:null),reportes:e.reportes,usuario:e.usuario,onEditar:i[1]||(i[1]=(c,d,s)=>u("editar",c,d,s)),onEliminar:i[2]||(i[2]=c=>u("eliminar",c))},null,8,["seleccionado","reportes","usuario"])),o(ze,{roles:["REPORTES_WRITE"],usuario:a.usuario},{default:f(()=>[o(Ye,{modo:"añadir",onAceptar:i[3]||(i[3]=(c,d)=>u("agregar",c,d))})]),_:1},8,["usuario"])],4)]),_:1}),o(Qt,{class:"main"},{default:f(()=>[E(t)?(S(),Ie("iframe",{key:1,class:"frame",src:E(t),frameborder:"0",style:{border:"0"},allowfullscreen:"","data-testid":"iframe-reporte"},null,8,ya)):(S(),x(be,{key:0},{default:f(()=>[$("Seleccione un reporte")]),_:1}))]),_:1})]),_:1})]),_:1}))}});const ba=dt(ha,[["__scopeId","data-v-6676a178"]]),_a=O({__name:"reportes",setup(e){const u=vt(),a=k([]),t=k(!0);let l;ee(()=>{const s=j(),r=mt(de(s,"reportes"));l=ft(r,n)});function n(s){t.value=!1,a.value=s.docs.map(r=>({nombre:r.data().nombre,url:r.data().url,id:r.id}))}function i(s){const r=j(),v=ve(r,"reportes",s);yt(v)}function c(s,r){const v=j(),m=de(v,"reportes");ht(m,{nombre:s,url:r})}function d(s,r,v){const m=j(),g=ve(m,"reportes",v);bt(g,{nombre:s,url:r})}return gt(()=>l()),(s,r)=>(S(),x(ba,{reportes:E(a),usuario:E(u).usuarioActual,cargando:E(t),onEliminar:i,onAgregar:c,onEditar:d},null,8,["reportes","usuario","cargando"]))}});export{_a as default};
